{"version":3,"file":"ext-opensave.js","sources":["../../../../node_modules/browser-fs-access/dist/index.modern.js","../../../../src/editor/extensions/ext-opensave/ext-opensave.js","../../../../src/editor/extensions/ext-opensave/locale/en.js","../../../../src/editor/extensions/ext-opensave/locale/fr.js","../../../../src/editor/extensions/ext-opensave/locale/sv.js","../../../../src/editor/extensions/ext-opensave/locale/tr.js","../../../../src/editor/extensions/ext-opensave/locale/uk.js","../../../../src/editor/extensions/ext-opensave/locale/zh-CN.js"],"sourcesContent":["const e=(()=>{if(\"undefined\"==typeof self)return!1;if(\"top\"in self&&self!==top)try{top}catch(e){return!1}else if(\"showOpenFilePicker\"in self)return\"showOpenFilePicker\";return!1})(),t=e?Promise.resolve().then(function(){return l}):Promise.resolve().then(function(){return h});async function n(...e){return(await t).default(...e)}const r=e?Promise.resolve().then(function(){return y}):Promise.resolve().then(function(){return P});async function i(...e){return(await r).default(...e)}const a=e?Promise.resolve().then(function(){return m}):Promise.resolve().then(function(){return k});async function o(...e){return(await a).default(...e)}const s=async e=>{const t=await e.getFile();return t.handle=e,t};var c=async(e=[{}])=>{Array.isArray(e)||(e=[e]);const t=[];e.forEach((e,n)=>{t[n]={description:e.description||\"Files\",accept:{}},e.mimeTypes?e.mimeTypes.map(r=>{t[n].accept[r]=e.extensions||[]}):t[n].accept[\"*/*\"]=e.extensions||[]});const n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(s));return e[0].multiple?r:r[0]},l={__proto__:null,default:c};function u(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+\" is not an object.\"));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return u=function(e){this.s=e,this.n=e.next},u.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new u(e)}const p=async(e,t,n=e.name,r)=>{const i=[],a=[];var o,s=!1,c=!1;try{for(var l,d=function(e){var t,n,r,i=2;for(\"undefined\"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new u(t.call(e));n=\"@@asyncIterator\",r=\"@@iterator\"}throw new TypeError(\"Object is not async iterable\")}(e.values());s=!(l=await d.next()).done;s=!1){const o=l.value,s=`${n}/${o.name}`;\"file\"===o.kind?a.push(o.getFile().then(t=>(t.directoryHandle=e,t.handle=o,Object.defineProperty(t,\"webkitRelativePath\",{configurable:!0,enumerable:!0,get:()=>s})))):\"directory\"!==o.kind||!t||r&&r(o)||i.push(p(o,t,s,r))}}catch(e){c=!0,o=e}finally{try{s&&null!=d.return&&await d.return()}finally{if(c)throw o}}return[...(await Promise.all(i)).flat(),...await Promise.all(a)]};var d=async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||\"read\";const t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return p(t,e.recursive,void 0,e.skipDirectory)},y={__proto__:null,default:d},f=async(e,t=[{}],n=null,r=!1,i=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||\"Untitled\";const a=[];let o=null;if(e instanceof Blob&&e.type?o=e.type:e.headers&&e.headers.get(\"content-type\")&&(o=e.headers.get(\"content-type\")),t.forEach((e,t)=>{a[t]={description:e.description||\"Files\",accept:{}},e.mimeTypes?(0===t&&o&&e.mimeTypes.push(o),e.mimeTypes.map(n=>{a[t].accept[n]=e.extensions||[]})):o?a[t].accept[o]=e.extensions||[]:a[t].accept[\"*/*\"]=e.extensions||[]}),n)try{await n.getFile()}catch(e){if(n=null,r)throw e}const s=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:a,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!n&&i&&i(s);const c=await s.createWritable();if(\"stream\"in e){const t=e.stream();return await t.pipeTo(c),s}return\"body\"in e?(await e.body.pipeTo(c),s):(await c.write(await e),await c.close(),s)},m={__proto__:null,default:f},w=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise((t,n)=>{const r=document.createElement(\"input\");r.type=\"file\";const i=[...e.map(e=>e.mimeTypes||[]),...e.map(e=>e.extensions||[])].join();r.multiple=e[0].multiple||!1,r.accept=i||\"\",r.style.display=\"none\",document.body.append(r);const a=e=>{\"function\"==typeof o&&o(),t(e)},o=e[0].legacySetup&&e[0].legacySetup(a,()=>o(n),r),s=()=>{window.removeEventListener(\"focus\",s),r.remove()};r.addEventListener(\"click\",()=>{window.addEventListener(\"focus\",s)}),r.addEventListener(\"change\",()=>{window.removeEventListener(\"focus\",s),r.remove(),a(r.multiple?Array.from(r.files):r.files[0])}),\"showPicker\"in HTMLInputElement.prototype?r.showPicker():r.click()})),h={__proto__:null,default:w},v=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((t,n)=>{const r=document.createElement(\"input\");r.type=\"file\",r.webkitdirectory=!0;const i=e=>{\"function\"==typeof a&&a(),t(e)},a=e[0].legacySetup&&e[0].legacySetup(i,()=>a(n),r);r.addEventListener(\"change\",()=>{let t=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(t=t.filter(t=>t.webkitRelativePath.split(\"/\").every(t=>!e[0].skipDirectory({name:t,kind:\"directory\"})))):t=t.filter(e=>2===e.webkitRelativePath.split(\"/\").length),i(t)}),\"showPicker\"in HTMLInputElement.prototype?r.showPicker():r.click()})),P={__proto__:null,default:v},b=async(e,t={})=>{Array.isArray(t)&&(t=t[0]);const n=document.createElement(\"a\");let r=e;\"body\"in e&&(r=await async function(e,t){const n=e.getReader(),r=new ReadableStream({start:e=>async function t(){return n.read().then(({done:n,value:r})=>{if(!n)return e.enqueue(r),t();e.close()})}()}),i=new Response(r),a=await i.blob();return n.releaseLock(),new Blob([a],{type:t})}(e.body,e.headers.get(\"content-type\"))),n.download=t.fileName||\"Untitled\",n.href=URL.createObjectURL(await r);const i=()=>{\"function\"==typeof a&&a()},a=t.legacySetup&&t.legacySetup(i,()=>a(),n);return n.addEventListener(\"click\",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),i()}),n.click(),null},k={__proto__:null,default:b};export{i as directoryOpen,v as directoryOpenLegacy,d as directoryOpenModern,n as fileOpen,w as fileOpenLegacy,c as fileOpenModern,o as fileSave,b as fileSaveLegacy,f as fileSaveModern,e as supported};\n","/* globals seConfirm */\n/**\n * @file ext-opensave.js\n *\n * @license MIT\n *\n * @copyright 2020 OptimistikSAS\n *\n */\n\n/**\n   * @type {module:svgcanvas.EventHandler}\n   * @param {external:Window} wind\n   * @param {module:svgcanvas.SvgCanvas#event:saved} svg The SVG source\n   * @listens module:svgcanvas.SvgCanvas#event:saved\n   * @returns {void}\n   */\nimport { fileOpen, fileSave } from 'browser-fs-access'\n\nconst name = 'opensave'\nlet handle = null\n\nconst loadExtensionTranslation = async function (svgEditor) {\n  let translationModule\n  const lang = svgEditor.configObj.pref('lang')\n  try {\n    translationModule = await import(`./locale/${lang}.js`)\n  } catch (_error) {\n    console.warn(`Missing translation (${lang}) for ${name} - using 'en'`)\n    translationModule = await import('./locale/en.js')\n  }\n  svgEditor.i18next.addResourceBundle(lang, 'translation', translationModule.default, true, true)\n}\n\nexport default {\n  name,\n  async init (_S) {\n    const svgEditor = this\n    const { svgCanvas } = svgEditor\n    const { $id, $click } = svgCanvas\n    await loadExtensionTranslation(svgEditor)\n    /**\n    * @param {Event} e\n    * @returns {void}\n    */\n    const importImage = (e) => {\n      $id('se-prompt-dialog').title = this.i18next.t('notification.loadingImage')\n      $id('se-prompt-dialog').setAttribute('close', false)\n      e.stopPropagation()\n      e.preventDefault()\n      const file = (e.type === 'drop') ? e.dataTransfer.files[0] : e.currentTarget.files[0]\n      if (!file) {\n        $id('se-prompt-dialog').setAttribute('close', true)\n        return\n      }\n\n      if (!file.type.includes('image')) {\n        return\n      }\n      // Detected an image\n      // svg handling\n      let reader\n      if (file.type.includes('svg')) {\n        reader = new FileReader()\n        reader.onloadend = (ev) => {\n          // imgImport.shiftKey (shift key pressed or not) will determine if import should preserve dimension)\n          const newElement = this.svgCanvas.importSvgString(ev.target.result, imgImport.shiftKey)\n          this.svgCanvas.alignSelectedElements('m', 'page')\n          this.svgCanvas.alignSelectedElements('c', 'page')\n          // highlight imported element, otherwise we get strange empty selectbox\n          this.svgCanvas.selectOnly([newElement])\n          $id('se-prompt-dialog').setAttribute('close', true)\n        }\n        reader.readAsText(file)\n      } else {\n        // bitmap handling\n        reader = new FileReader()\n        reader.onloadend = ({ target: { result } }) => {\n          /**\n              * Insert the new image until we know its dimensions.\n              * @param {Float} imageWidth\n              * @param {Float} imageHeight\n              * @returns {void}\n              */\n          const insertNewImage = (imageWidth, imageHeight) => {\n            const newImage = this.svgCanvas.addSVGElementsFromJson({\n              element: 'image',\n              attr: {\n                x: 0,\n                y: 0,\n                width: imageWidth,\n                height: imageHeight,\n                id: this.svgCanvas.getNextId(),\n                style: 'pointer-events:inherit'\n              }\n            })\n            this.svgCanvas.setHref(newImage, result)\n            this.svgCanvas.selectOnly([newImage])\n            this.svgCanvas.alignSelectedElements('m', 'page')\n            this.svgCanvas.alignSelectedElements('c', 'page')\n            this.topPanel.updateContextPanel()\n            $id('se-prompt-dialog').setAttribute('close', true)\n          }\n          // create dummy img so we know the default dimensions\n          let imgWidth = 100\n          let imgHeight = 100\n          const img = new Image()\n          img.style.opacity = 0\n          img.addEventListener('load', () => {\n            imgWidth = img.offsetWidth || img.naturalWidth || img.width\n            imgHeight = img.offsetHeight || img.naturalHeight || img.height\n            insertNewImage(imgWidth, imgHeight)\n          })\n          img.src = result\n        }\n        reader.readAsDataURL(file)\n      }\n    }\n    // create an input with type file to open the filesystem dialog\n    const imgImport = document.createElement('input')\n    imgImport.type = 'file'\n    imgImport.addEventListener('change', importImage)\n    // dropping a svg file will import it in the svg as well\n    this.workarea.addEventListener('drop', importImage)\n\n    const clickClear = async function () {\n      const [x, y] = svgEditor.configObj.curConfig.dimensions\n      const ok = await seConfirm(svgEditor.i18next.t('notification.QwantToClear'))\n      if (ok === 'Cancel') {\n        return\n      }\n      svgEditor.leftPanel.clickSelect()\n      svgEditor.svgCanvas.clear()\n      svgEditor.svgCanvas.setResolution(x, y)\n      svgEditor.updateCanvas(true)\n      svgEditor.zoomImage()\n      svgEditor.layersPanel.populateLayers()\n      svgEditor.topPanel.updateContextPanel()\n      svgEditor.topPanel.updateTitle('untitled.svg')\n    }\n\n    /**\n     * By default,  this.editor.svgCanvas.open() is a no-op. It is up to an extension\n     *  mechanism (opera widget, etc.) to call `setCustomHandlers()` which\n     *  will make it do something.\n     * @returns {void}\n     */\n    const clickOpen = async function () {\n      // ask user before clearing an unsaved SVG\n      const response = await svgEditor.openPrep()\n      if (response === 'Cancel') { return }\n      svgCanvas.clear()\n      try {\n        const blob = await fileOpen({\n          mimeTypes: ['image/*']\n        })\n        const svgContent = await blob.text()\n        await svgEditor.loadSvgString(svgContent)\n        svgEditor.updateCanvas()\n        handle = blob.handle\n        svgEditor.topPanel.updateTitle(blob.name)\n        svgEditor.svgCanvas.runExtensions('onOpenedDocument', {\n          name: blob.name,\n          lastModified: blob.lastModified,\n          size: blob.size,\n          type: blob.type\n        })\n      } catch (err) {\n        if (err.name !== 'AbortError') {\n          return console.error(err)\n        }\n      }\n    }\n    const b64toBlob = (b64Data, contentType = '', sliceSize = 512) => {\n      const byteCharacters = atob(b64Data)\n      const byteArrays = []\n      for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n        const slice = byteCharacters.slice(offset, offset + sliceSize)\n        const byteNumbers = new Array(slice.length)\n        for (let i = 0; i < slice.length; i++) {\n          byteNumbers[i] = slice.charCodeAt(i)\n        }\n        const byteArray = new Uint8Array(byteNumbers)\n        byteArrays.push(byteArray)\n      }\n      const blob = new Blob(byteArrays, { type: contentType })\n      return blob\n    }\n\n    /**\n     *\n     * @returns {void}\n     */\n    const clickSave = async function (type) {\n      const $editorDialog = $id('se-svg-editor-dialog')\n      const editingsource = $editorDialog.getAttribute('dialog') === 'open'\n      if (editingsource) {\n        svgEditor.saveSourceEditor()\n      } else {\n        // In the future, more options can be provided here\n        const saveOpts = {\n          images: svgEditor.configObj.pref('img_save'),\n          round_digits: 2\n        }\n        // remove the selected outline before serializing\n        svgCanvas.clearSelection()\n        // Update save options if provided\n        if (saveOpts) {\n          const saveOptions = svgCanvas.mergeDeep(svgCanvas.getSvgOption(), saveOpts)\n          for (const [key, value] of Object.entries(saveOptions)) {\n            svgCanvas.setSvgOption(key, value)\n          }\n        }\n        svgCanvas.setSvgOption('apply', true)\n\n        // no need for doctype, see https://jwatt.org/svg/authoring/#doctype-declaration\n        const svg = '<?xml version=\"1.0\"?>\\n' + svgCanvas.svgCanvasToString()\n        const b64Data = svgCanvas.encode64(svg)\n        const blob = b64toBlob(b64Data, 'image/svg+xml')\n        try {\n          if (type === 'save' && handle !== null) {\n            const throwIfExistingHandleNotGood = false\n            handle = await fileSave(blob, {\n              fileName: 'untitled.svg',\n              extensions: ['.svg']\n            }, handle, throwIfExistingHandleNotGood)\n          } else {\n            handle = await fileSave(blob, {\n              fileName: svgEditor.title,\n              extensions: ['.svg']\n            })\n          }\n          svgEditor.topPanel.updateTitle(handle.name)\n          svgCanvas.runExtensions('onSavedDocument', {\n            name: handle.name,\n            kind: handle.kind\n          })\n        } catch (err) {\n          if (err.name !== 'AbortError') {\n            return console.error(err)\n          }\n        }\n      }\n    }\n\n    return {\n      name: svgEditor.i18next.t(`${name}:name`),\n      // The callback should be used to load the DOM with the appropriate UI items\n      callback () {\n        const buttonTemplate = `\n        <se-menu-item id=\"tool_clear\" label=\"opensave.new_doc\" shortcut=\"N\" src=\"new.svg\"></se-menu-item>`\n        svgCanvas.insertChildAtIndex($id('main_button'), buttonTemplate, 0)\n        const openButtonTemplate = '<se-menu-item id=\"tool_open\" label=\"opensave.open_image_doc\" src=\"open.svg\"></se-menu-item>'\n        svgCanvas.insertChildAtIndex($id('main_button'), openButtonTemplate, 1)\n        const saveButtonTemplate = '<se-menu-item id=\"tool_save\" label=\"opensave.save_doc\" shortcut=\"S\" src=\"saveImg.svg\"></se-menu-item>'\n        svgCanvas.insertChildAtIndex($id('main_button'), saveButtonTemplate, 2)\n        const saveAsButtonTemplate = '<se-menu-item id=\"tool_save_as\" label=\"opensave.save_as_doc\" src=\"saveImg.svg\"></se-menu-item>'\n        svgCanvas.insertChildAtIndex($id('main_button'), saveAsButtonTemplate, 3)\n        const importButtonTemplate = '<se-menu-item id=\"tool_import\" label=\"tools.import_doc\" src=\"importImg.svg\"></se-menu-item>'\n        svgCanvas.insertChildAtIndex($id('main_button'), importButtonTemplate, 4)\n\n        // handler\n        $click($id('tool_clear'), clickClear.bind(this))\n        $click($id('tool_open'), clickOpen.bind(this))\n        $click($id('tool_save'), clickSave.bind(this, 'save'))\n        $click($id('tool_save_as'), clickSave.bind(this, 'saveas'))\n        // tool_import pressed with shiftKey will not scale the SVG\n        $click($id('tool_import'), (ev) => { imgImport.shiftKey = ev.shiftKey; imgImport.click() })\n      }\n    }\n  }\n}\n","export default {\n  opensave: {\n    new_doc: 'New Image',\n    open_image_doc: 'Open SVG',\n    save_doc: 'Save SVG',\n    save_as_doc: 'Save as SVG'\n  }\n}\n","export default {\n  opensave: {\n    new_doc: 'Nouvelle image',\n    open_image_doc: 'Ouvrir le SVG',\n    save_doc: 'Enregistrer l\\'image',\n    save_as_doc: 'Enregistrer en tant qu\\'image'\n  }\n}\n","export default {\n  opensave: {\n    new_doc: 'Ny bild',\n    open_image_doc: 'Öppna SVG',\n    save_doc: 'Spara SVG',\n    save_as_doc: 'Spara som SVG'\n  }\n}\n","export default {\n  opensave: {\n    new_doc: 'Yeni Resim',\n    open_image_doc: 'SVG Aç',\n    save_doc: 'SVG Kaydet',\n    save_as_doc: 'SVG olarak Kaydet'\n  }\n}\n","export default {\n  opensave: {\n    new_doc: 'Нове Зображення',\n    open_image_doc: 'Відкрити SVG',\n    save_doc: 'Зберегти SVG',\n    save_as_doc: 'Зберегти SVG як'\n  }\n}\n","export default {\n  opensave: {\n    new_doc: '新图片',\n    open_image_doc: '打开 SVG',\n    save_doc: '保存图像',\n    save_as_doc: '另存为图像'\n  }\n}\n"],"names":["e","self","top","t","Promise","resolve","then","l","h","n","default","y","P","a","m","k","o","s","getFile","handle","c","Array","isArray","forEach","description","accept","mimeTypes","map","r","extensions","window","showOpenFilePicker","id","startIn","types","multiple","excludeAcceptAllOption","all","__proto__","u","Object","reject","TypeError","done","value","next","prototype","apply","arguments","return","throw","p","name","i","d","Symbol","asyncIterator","iterator","call","values","kind","push","directoryHandle","defineProperty","configurable","enumerable","get","flat","recursive","mode","showDirectoryPicker","skipDirectory","f","fileName","Blob","type","headers","showSaveFilePicker","suggestedName","createWritable","stream","pipeTo","body","write","close","w","document","createElement","join","style","display","append","legacySetup","removeEventListener","remove","addEventListener","from","files","HTMLInputElement","showPicker","click","v","webkitdirectory","filter","webkitRelativePath","split","every","length","b","getReader","ReadableStream","start","read","enqueue","Response","blob","releaseLock","download","href","URL","createObjectURL","setTimeout","revokeObjectURL","loadExtensionTranslation","svgEditor","translationModule","lang","configObj","pref","__variableDynamicImportRuntime0__","_error","console","warn","i18next","addResourceBundle","init","_S","svgCanvas","$id","$click","importImage","title","setAttribute","stopPropagation","preventDefault","file","dataTransfer","currentTarget","includes","reader","FileReader","onloadend","ev","newElement","importSvgString","target","result","imgImport","shiftKey","alignSelectedElements","selectOnly","readAsText","insertNewImage","imageWidth","imageHeight","newImage","addSVGElementsFromJson","element","attr","x","width","height","getNextId","setHref","topPanel","updateContextPanel","imgWidth","imgHeight","img","Image","opacity","offsetWidth","naturalWidth","offsetHeight","naturalHeight","src","readAsDataURL","workarea","clickClear","curConfig","dimensions","ok","seConfirm","leftPanel","clickSelect","clear","setResolution","updateCanvas","zoomImage","layersPanel","populateLayers","updateTitle","clickOpen","response","openPrep","fileOpen","svgContent","text","loadSvgString","runExtensions","lastModified","size","err","error","b64toBlob","b64Data","contentType","sliceSize","byteCharacters","atob","byteArrays","offset","slice","byteNumbers","charCodeAt","byteArray","Uint8Array","clickSave","$editorDialog","editingsource","getAttribute","saveSourceEditor","saveOpts","images","round_digits","clearSelection","saveOptions","mergeDeep","getSvgOption","key","entries","setSvgOption","svg","svgCanvasToString","encode64","throwIfExistingHandleNotGood","fileSave","callback","buttonTemplate","insertChildAtIndex","openButtonTemplate","saveButtonTemplate","saveAsButtonTemplate","importButtonTemplate","bind","opensave","new_doc","open_image_doc","save_doc","save_as_doc"],"mappings":"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"}