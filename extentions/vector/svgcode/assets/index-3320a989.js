(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const en="modulepreload",tn=function(t){return"/"+t},pt={},p=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=tn(a),a in pt)return;pt[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const u=i[d];if(u.href===a&&(!s||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const l=document.createElement("link");if(l.rel=s?"stylesheet":en,s||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),s)return new Promise((d,u)=>{l.addEventListener("load",d),l.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())},z=document.querySelector("canvas"),Vr=document.querySelector(".menu"),jr=document.querySelector("main"),mt=document.querySelector(".details"),A=document.querySelector(".posterize"),nn=document.querySelector("[for=posterize]"),_=document.querySelector(".color"),rn=document.querySelector("[for=color]"),P=document.querySelector(".monochrome"),on=document.querySelector("[for=monochrome]"),M=document.querySelector(".consider-dpr"),an=document.querySelector('[for="consider-dpr"]'),C=document.querySelector(".optimize-curves"),sn=document.querySelector('[for="optimize-curves"]'),G=document.querySelector(".show-advanced"),cn=document.querySelector('[for="show-advanced"]'),y=document.querySelector("img"),at=document.querySelector(".reset-all"),Ee=document.querySelector(".open"),ke=document.querySelector(".save"),Se=document.querySelector(".copy"),xe=document.querySelector(".share"),Pe=document.querySelector(".paste"),Ce=document.querySelector(".install"),w=document.querySelector(".svg-output"),he=document.querySelector(".debug"),Te=document.querySelector("progress"),Q=document.querySelector(".toast"),rt=document.querySelector("details.main"),Ne=document.querySelector("summary"),At=document.querySelector(".close-options-button"),ln=document.querySelector(".license"),dn=document.querySelector(".about"),oe=document.querySelector("pinch-zoom"),Ie=document.querySelector(".language"),Rt=document.querySelector("dark-mode-toggle"),T=document.documentElement,un=document.querySelector("meta[name=theme-color]"),ee=window.devicePixelRatio;oe.addEventListener("change",()=>{const{x:t,y:e,scale:n}=oe;w.setAttribute("transform",`translate(${t}, ${e}) scale(${n})`)});oe.addEventListener("pointerdown",()=>{oe.style.cursor="grabbing"});oe.addEventListener("pointerup",()=>{oe.style.cursor=""});const It=()=>{w.setAttribute("transform","")},Oe=(t,e)=>{let n;return function(...i){const a=()=>{clearTimeout(n),t(...i)};clearTimeout(n),n=setTimeout(a,e)}},$t=/Mac|iPhone/.test(navigator.platform);/*!
 * canvas-size
 * v1.2.6
 * https://github.com/jhildenbiddle/canvas-size
 * (c) 2015-2023 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function hn(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){l=!0,i=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gt(Object(n),!0).forEach(function(r){pn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pn(t,e,n){return e=Ln(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mn(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gn(t,e){if(t==null)return{};var n=mn(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ft(t,e){return vn(t)||hn(t,e)||Mt(t,e)||bn()}function ve(t){return fn(t)||yn(t)||Mt(t)||wn()}function fn(t){if(Array.isArray(t))return it(t)}function vn(t){if(Array.isArray(t))return t}function yn(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mt(t,e){if(t){if(typeof t=="string")return it(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(t,e)}}function it(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _n(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ln(t){var e=_n(t,"string");return typeof e=="symbol"?e:String(e)}function pe(t){var e=t.sizes.shift(),n=Math.max(Math.ceil(e[0]),1),r=Math.max(Math.ceil(e[1]),1),i=[n-1,r-1,1,1],a=Date.now(),s=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,o,c;s?(o=new OffscreenCanvas(1,1),c=new OffscreenCanvas(n,r)):(o=document.createElement("canvas"),o.width=1,o.height=1,c=document.createElement("canvas"),c.width=n,c.height=r);var l=o.getContext("2d"),d=c.getContext("2d");d&&(d.fillRect.apply(d,i),l.drawImage(c,n-1,r-1,1,1,0,0,1,1));var u=l&&l.getImageData(0,0,1,1).data[3]!==0,h=Date.now()-a;return[o,c].forEach(function(g){g.height=0,g.width=0}),s?(postMessage({width:n,height:r,benchmark:h,isTestPass:u}),!u&&t.sizes.length&&pe(t)):u?t.onSuccess(n,r,h):(t.onError(n,r,h),t.sizes.length&&pe(t)),u}var Ue={area:[16384,14188,11402,11180,10836,8192,4096,1],height:[8388607,65535,32767,16384,8192,4096,1],width:[4194303,65535,32767,16384,8192,4096,1]},En=["onError","onSuccess"],te={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},se={};function qe(t){var e=t.width===t.height,n=t.height===1,r=t.width===1,i=[];if(!t.width||!t.height)t.sizes.forEach(function(d){var u=e||n?d:1,h=e||r?d:1;i.push([u,h])});else for(var a=t.min||te.min,s=t.step||te.step,o=Math.max(t.width,t.height);o>=a;){var c=e||n?o:1,l=e||r?o:1;i.push([c,l]),o-=s}return i}function ye(t){var e=window&&"HTMLCanvasElement"in window,n=window&&"OffscreenCanvas"in window,r=Date.now(),i=t.onError,a=t.onSuccess,s=gn(t,En),o=null;if(!e)return!1;if(t.useWorker&&n){var c=`
            var canvasTest = `.concat(pe.toString(),`;
            onmessage = function(e) {
                canvasTest(e.data);
            };
        `),l=new Blob([c],{type:"application/javascript"}),d=URL.createObjectURL(l);o=new Worker(d),URL.revokeObjectURL(d),o.onmessage=function(u){var h=u.data,g=h.width,E=h.height,V=h.benchmark,He=h.isTestPass;He?(se[r].onSuccess(g,E,V),delete se[r]):se[r].onError(g,E,V)}}if(t.usePromise)return new Promise(function(u,h){var g=x(x({},t),{},{onError:function(X,K,ae){var Be;if(t.sizes.length===0)Be=!0;else{var Kt=t.sizes.slice(-1),Jt=ft(Kt,1),ht=ft(Jt[0],2),Zt=ht[0],Qt=ht[1];Be=X===Zt&&K===Qt}i(X,K,ae),Be&&h({width:X,height:K,benchmark:ae})},onSuccess:function(X,K,ae){a(X,K,ae),u({width:X,height:K,benchmark:ae})}});if(o){var E=g.onError,V=g.onSuccess;se[r]={onError:E,onSuccess:V},o.postMessage(s)}else pe(g)});if(o)se[r]={onError:i,onSuccess:a},o.postMessage(s);else return pe(t)}var kn={maxArea:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=qe({width:e.max,height:e.max,min:e.min,step:e.step,sizes:ve(Ue.area)}),r=x(x(x({},te),e),{},{sizes:n});return ye(r)},maxHeight:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=qe({width:1,height:e.max,min:e.min,step:e.step,sizes:ve(Ue.height)}),r=x(x(x({},te),e),{},{sizes:n});return ye(r)},maxWidth:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=qe({width:e.max,height:1,min:e.min,step:e.step,sizes:ve(Ue.width)}),r=x(x(x({},te),e),{},{sizes:n});return ye(r)},test:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=x(x({},te),e);return n.sizes=ve(n.sizes),n.width&&n.height&&(n.sizes=[[n.width,n.height]]),ye(n)}};let Vt,jt;const zt="OffscreenCanvas"in window&&"CanvasFilter"in window;if(zt)p(()=>import("./preprocessworker-f3e5e051.js"),[]).then(t=>{const e=t.default;let n=null;const r=z.getContext("2d");Vt=async()=>{n&&n.terminate(),n=new e;const i=z.cloneNode().transferControlToOffscreen();return n.postMessage({offscreen:i},[i]),new Promise(async a=>{const{width:s,height:o}=vt();let c;try{c=await createImageBitmap(y)}catch{try{c=await createImageBitmap(y,0,0,s,o)}catch(d){console.error(d.name,d.message),w.innerHTML="",O(d.message);return}}const l=new MessageChannel;l.port1.onmessage=({data:d})=>{l.port1.close(),n&&(n.terminate(),n=null),z.width=s,z.height=o,r.putImageData(d.result,0,0),a(d.result)},n.postMessage({inputImageBitmap:c,posterize:A.checked,rgba:{r:N(v[S.red]),g:N(v[S.green]),b:N(v[S.blue]),a:N(v[S.alpha])},cssFilters:Dt(),rotate:Number(v[ge.rotation].value),width:s,height:o,dpr:ee},[l.port2])})}});else{const t=z.getContext("2d",{desynchronized:!0});t.scale(ee,ee),t.imageSmoothingEnabled=!0,jt=()=>{let{width:e,height:n}=vt();const r=M.checked?ee:1;let i=1;for(;!kn.test({width:e,height:n});)e=Math.floor(e/2),n=Math.floor(n/2),i/=2;z.width=e,z.height=n,t.clearRect(0,0,e,n),t.filter=xn(),t.setTransform(1,0,0,1,e/2,n/2);const a=Number(v[ge.rotation].value);return t.rotate(a*Math.PI/180),t.drawImage(y,-r*y.naturalWidth*i/2,-r*y.naturalHeight*i/2),t.getImageData(0,0,e,n)}}const vt=()=>{const t=Number(v[ge.scale].value)/100;return{width:Math.ceil(ee*y.naturalWidth*t),height:Math.ceil(ee*y.naturalHeight*t)}},N=t=>{const e=Number(t.value),n=[];for(let r=0;r<=e;r++)n[r]=Number((1/e*r).toFixed(1));return n},Sn=()=>`data:image/svg+xml;utf8,<svg
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <filter id="posterize">
        <feComponentTransfer>
          <feFuncR type="discrete" tableValues="${N(v[S.red]).join(",")}" />
          <feFuncG type="discrete" tableValues="${N(v[S.green]).join(",")}" />
          <feFuncB type="discrete" tableValues="${N(v[S.blue]).join(",")}" />
          <feFuncA type="discrete" tableValues="${N(v[S.alpha])}" />
        </feComponentTransfer>
      </filter>
    </svg>`.replace(/[\r\n]/g,"").replace(/\s+/g," ").trim(),Dt=()=>{let t="";for(const[e,n]of Object.entries(Ut)){const r=v[e];n.initial!==Number(r.value)&&(t+=`${e}(${r.value}${r.dataset.unit}) `)}return t},xn=()=>{let t=`${A.checked?`url('${Sn()}#posterize') `:""}`;return t+=Dt(),t.trim()||"none"};function Pn(){return new Worker("./assets/monochromeworker-f4bfce91.js")}let q=null;const Cn=async t=>(q&&q.terminate(),q=new Pn,new Promise(async e=>{const n=new MessageChannel;n.port1.onmessage=({data:i})=>{n.port1.close(),q&&(q.terminate(),q=null),e(i.result)};const r={turdsize:Number(v[L.turdsize].value),alphamax:Number(v[L.alphamax].value),turnpolicy:Number(v[L.turnpolicy].value),opttolerance:Number(v[L.opttolerance].value),opticurve:C.checked?1:0,extractcolors:!1};q.postMessage({imageData:t,params:r},[n.port2])}));function Tn(){return new Worker("./assets/colorworker-9f272d25.js")}let W=null;const $={},On=async t=>(W&&W.terminate(),W=new Tn,new Promise(async e=>{const n=new MessageChannel;n.port1.onmessage=({data:l})=>{n.port1.close(),W&&(W.terminate(),W=null),e(l.result)},Te.value=0;let r="",i="",a="",s=0;$.current&&(clearInterval($.current),$.current=null),$.current=setInterval(()=>{const l=`${r}${a}${i}`;if(l.length!==s){const d=w.dataset.transform;d&&w.setAttribute("transform",d),w.innerHTML=l,s=l.length}},500);const o=new MessageChannel;o.port1.onmessage=({data:l})=>{const d=Math.floor(l.processed/l.total*100);if(Te.value=d,l.svg){r||(r=l.svg.replace(/(.*?<svg[^>]+>)(.*?)(<\/svg>)/,"$1").replace(/\s+width="\d+(?:\.\d+)?"/,"").replace(/\s+height="\d+(?:\.\d+)"/,""),i=l.svg.replace(/(.*?<svg[^>]+>)(.*?)(<\/svg>)/,"$3"));const u=l.svg.replace(/(.*?<svg[^>]+>)(.*?)(<\/svg>)/,"$2");a+=u}l.processed===l.total&&(clearInterval($.current),$.current=null,o.port1.close(),Te.value=0)};const c={minPathSegments:Number(v[L.minPathLength].value),strokeWidth:Number(v[L.strokeWidth].value),turdsize:Number(v[L.turdsize].value),alphamax:Number(v[L.alphamax].value),turnpolicy:Number(v[L.turnpolicy].value),opttolerance:Number(v[L.opttolerance].value),opticurve:C.checked?1:0,extractcolors:!1,posterizelevel:2,posterizationalgorithm:0};W.postMessage({imageData:t,params:c},[n.port2,o.port2])})),yt=(t,e)=>{const n=t[e];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((r,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+e)))})},we="language",An=["ar","be","ca","da","de","el","en","es","fr","he","id","it","ja","ko","nl","no","pl","pt","ru","uk","zh"],Rn=["ar-TN","be-BY","ca-ES","da-DK","de-DE","el-GR","en-GB","en-US","es-ES","fr-FR","he-IL","id-ID","it-IT","ja-JP","ko-KR","nl-NL","no-NO","pl-PL","pt-BR","ru-RU","uk-UA","zh-CN"],In=["ar","fa","he","ur"];class $n{constructor(){this.defaultLanguage="en",this.defaultLocale="US",this.translations=null,this.supportedLanguages=An,this.supportedLocales=Rn,this.currentLanguageAndLocale=this.detectOrRestoreLanguageAndLocale()}findBestMatchingLanguageAndLocale(e,n){return n&&(n=n.toUpperCase()),!e||!this.supportedLanguages.includes(e)?(e=this.defaultLanguage,n=this.defaultLocale):(!n||!this.supportedLocales.includes(`${e}-${n}`))&&(n=this.supportedLocales.find(r=>r.startsWith(`${e}-`)).split("-")[1]),{language:e,locale:n}}detectOrRestoreLanguageAndLocale(){const e=new URL(location),n=e.searchParams,r=n.get("lang");if(r){n.delete("lang"),history.pushState({},"",e);const[c,l=""]=r.split("-"),{language:d,locale:u}=this.findBestMatchingLanguageAndLocale(c,l);return this.setLanguageAndLocale(d,u),{language:d,locale:u}}try{const c=localStorage.getItem(we);if(c){const{language:l,locale:d}=JSON.parse(c);return this.setLanguageAndLocale(l,d),{language:l,locale:d}}}catch{}const[i,a=""]=navigator.language?.split("-"),{language:s,locale:o}=this.findBestMatchingLanguageAndLocale(i,a);return this.setLanguageAndLocale(s,o),{language:s,locale:o}}async setLanguageAndLocale(e,n){try{this.supportedLanguages.includes(e)||(localStorage.removeItem(we),e=this.defaultLanguage,n=this.defaultLocale),n&&!this.supportedLocales.includes(`${e}-${n}`)&&(localStorage.removeItem(we),e=this.defaultLanguage,n=this.defaultLocale),this.currentLanguageAndLocale={language:e,locale:n},localStorage.setItem(we,JSON.stringify(this.currentLanguageAndLocale))}catch{}T.lang=`${e}${n?`-${n}`:""}`,In.includes(e)?T.dir="rtl":T.dir="ltr",await this.getTranslations()}async getTranslations(){const{language:e,locale:n}=this.currentLanguageAndLocale;this.translations=(await yt(Object.assign({"../i18n/ar-TN.js":()=>p(()=>import("./ar-TN-917a8102.js"),["assets/ar-TN-917a8102.js","assets/languages-e8d9835d.js"]),"../i18n/be-BY.js":()=>p(()=>import("./be-BY-e27002d9.js"),["assets/be-BY-e27002d9.js","assets/languages-e8d9835d.js"]),"../i18n/ca-ES.js":()=>p(()=>import("./ca-ES-450231bf.js"),["assets/ca-ES-450231bf.js","assets/languages-e8d9835d.js"]),"../i18n/da-DK.js":()=>p(()=>import("./da-DK-fecf3d76.js"),["assets/da-DK-fecf3d76.js","assets/languages-e8d9835d.js"]),"../i18n/de-DE.js":()=>p(()=>import("./de-DE-c44b440e.js"),["assets/de-DE-c44b440e.js","assets/languages-e8d9835d.js"]),"../i18n/el-GR.js":()=>p(()=>import("./el-GR-cf1cb156.js"),["assets/el-GR-cf1cb156.js","assets/languages-e8d9835d.js"]),"../i18n/en-GB.js":()=>p(()=>import("./en-GB-1ebb0134.js"),["assets/en-GB-1ebb0134.js","assets/languages-e8d9835d.js"]),"../i18n/en-US.js":()=>p(()=>import("./en-US-14af226a.js"),["assets/en-US-14af226a.js","assets/languages-e8d9835d.js"]),"../i18n/es-ES.js":()=>p(()=>import("./es-ES-8cdc11e3.js"),["assets/es-ES-8cdc11e3.js","assets/languages-e8d9835d.js"]),"../i18n/fr-FR.js":()=>p(()=>import("./fr-FR-dff4346a.js"),["assets/fr-FR-dff4346a.js","assets/languages-e8d9835d.js"]),"../i18n/he-IL.js":()=>p(()=>import("./he-IL-3b82a749.js"),["assets/he-IL-3b82a749.js","assets/languages-e8d9835d.js"]),"../i18n/id-ID.js":()=>p(()=>import("./id-ID-d5dc62f7.js"),["assets/id-ID-d5dc62f7.js","assets/languages-e8d9835d.js"]),"../i18n/it-IT.js":()=>p(()=>import("./it-IT-24240090.js"),["assets/it-IT-24240090.js","assets/languages-e8d9835d.js"]),"../i18n/ja-JP.js":()=>p(()=>import("./ja-JP-6b72f65f.js"),["assets/ja-JP-6b72f65f.js","assets/languages-e8d9835d.js"]),"../i18n/ko-KR.js":()=>p(()=>import("./ko-KR-9fdbc612.js"),["assets/ko-KR-9fdbc612.js","assets/languages-e8d9835d.js"]),"../i18n/languages.js":()=>p(()=>import("./languages-e8d9835d.js"),[]),"../i18n/nl-NL.js":()=>p(()=>import("./nl-NL-f6a4c727.js"),["assets/nl-NL-f6a4c727.js","assets/languages-e8d9835d.js"]),"../i18n/no-NO.js":()=>p(()=>import("./no-NO-cb14a155.js"),["assets/no-NO-cb14a155.js","assets/languages-e8d9835d.js"]),"../i18n/pl-PL.js":()=>p(()=>import("./pl-PL-9ac090e3.js"),["assets/pl-PL-9ac090e3.js","assets/languages-e8d9835d.js"]),"../i18n/pt-BR.js":()=>p(()=>import("./pt-BR-30fb79a1.js"),["assets/pt-BR-30fb79a1.js","assets/languages-e8d9835d.js"]),"../i18n/ru-RU.js":()=>p(()=>import("./ru-RU-e5f207da.js"),["assets/ru-RU-e5f207da.js","assets/languages-e8d9835d.js"]),"../i18n/uk-UA.js":()=>p(()=>import("./uk-UA-87a01182.js"),["assets/uk-UA-87a01182.js","assets/languages-e8d9835d.js"]),"../i18n/zh-CN.js":()=>p(()=>import("./zh-CN-148f9e59.js"),["assets/zh-CN-148f9e59.js","assets/languages-e8d9835d.js"])}),`../i18n/${e}${n?`-${n}`:""}.js`).catch(()=>yt(Object.assign({"../i18n/ar-TN.js":()=>p(()=>import("./ar-TN-917a8102.js"),["assets/ar-TN-917a8102.js","assets/languages-e8d9835d.js"]),"../i18n/be-BY.js":()=>p(()=>import("./be-BY-e27002d9.js"),["assets/be-BY-e27002d9.js","assets/languages-e8d9835d.js"]),"../i18n/ca-ES.js":()=>p(()=>import("./ca-ES-450231bf.js"),["assets/ca-ES-450231bf.js","assets/languages-e8d9835d.js"]),"../i18n/da-DK.js":()=>p(()=>import("./da-DK-fecf3d76.js"),["assets/da-DK-fecf3d76.js","assets/languages-e8d9835d.js"]),"../i18n/de-DE.js":()=>p(()=>import("./de-DE-c44b440e.js"),["assets/de-DE-c44b440e.js","assets/languages-e8d9835d.js"]),"../i18n/el-GR.js":()=>p(()=>import("./el-GR-cf1cb156.js"),["assets/el-GR-cf1cb156.js","assets/languages-e8d9835d.js"]),"../i18n/en-GB.js":()=>p(()=>import("./en-GB-1ebb0134.js"),["assets/en-GB-1ebb0134.js","assets/languages-e8d9835d.js"]),"../i18n/en-US.js":()=>p(()=>import("./en-US-14af226a.js"),["assets/en-US-14af226a.js","assets/languages-e8d9835d.js"]),"../i18n/es-ES.js":()=>p(()=>import("./es-ES-8cdc11e3.js"),["assets/es-ES-8cdc11e3.js","assets/languages-e8d9835d.js"]),"../i18n/fr-FR.js":()=>p(()=>import("./fr-FR-dff4346a.js"),["assets/fr-FR-dff4346a.js","assets/languages-e8d9835d.js"]),"../i18n/he-IL.js":()=>p(()=>import("./he-IL-3b82a749.js"),["assets/he-IL-3b82a749.js","assets/languages-e8d9835d.js"]),"../i18n/id-ID.js":()=>p(()=>import("./id-ID-d5dc62f7.js"),["assets/id-ID-d5dc62f7.js","assets/languages-e8d9835d.js"]),"../i18n/it-IT.js":()=>p(()=>import("./it-IT-24240090.js"),["assets/it-IT-24240090.js","assets/languages-e8d9835d.js"]),"../i18n/ja-JP.js":()=>p(()=>import("./ja-JP-6b72f65f.js"),["assets/ja-JP-6b72f65f.js","assets/languages-e8d9835d.js"]),"../i18n/ko-KR.js":()=>p(()=>import("./ko-KR-9fdbc612.js"),["assets/ko-KR-9fdbc612.js","assets/languages-e8d9835d.js"]),"../i18n/languages.js":()=>p(()=>import("./languages-e8d9835d.js"),[]),"../i18n/nl-NL.js":()=>p(()=>import("./nl-NL-f6a4c727.js"),["assets/nl-NL-f6a4c727.js","assets/languages-e8d9835d.js"]),"../i18n/no-NO.js":()=>p(()=>import("./no-NO-cb14a155.js"),["assets/no-NO-cb14a155.js","assets/languages-e8d9835d.js"]),"../i18n/pl-PL.js":()=>p(()=>import("./pl-PL-9ac090e3.js"),["assets/pl-PL-9ac090e3.js","assets/languages-e8d9835d.js"]),"../i18n/pt-BR.js":()=>p(()=>import("./pt-BR-30fb79a1.js"),["assets/pt-BR-30fb79a1.js","assets/languages-e8d9835d.js"]),"../i18n/ru-RU.js":()=>p(()=>import("./ru-RU-e5f207da.js"),["assets/ru-RU-e5f207da.js","assets/languages-e8d9835d.js"]),"../i18n/uk-UA.js":()=>p(()=>import("./uk-UA-87a01182.js"),["assets/uk-UA-87a01182.js","assets/languages-e8d9835d.js"]),"../i18n/zh-CN.js":()=>p(()=>import("./zh-CN-148f9e59.js"),["assets/zh-CN-148f9e59.js","assets/languages-e8d9835d.js"])}),`../i18n/${this.defaultLocale}.js`))).default}t(e){return this.translations[e]||"⛔️ Missing translation"}}const m=new $n,Mn="./assets/spinner-a4113901.svg",Vn=t=>{if(t===0)return"0B";const e=Math.floor(Math.log(t)/Math.log(1024));return`${(t/Math.pow(1024,e)).toFixed(2)*1} ${["B","KB","MB"][e]}`},wt=(t,e)=>{t&&(t=t.replace(/\s+width="\d+(?:\.\d+)?"/,"").replace(/\s+height="\d+(?:\.\d+)"/,""),w.classList.remove($e),w.classList.remove(Me),w.classList.add(e),w.innerHTML=t,O(`${m.t("svgSize")}: ${Vn(t.length)}`,3e3))},R=async()=>{w.innerHTML="",w.classList.remove($e,Me),$.current&&(clearInterval($.current),$.current=null);const t=w.getAttribute("transform");w.innerHTML=Mn,t&&(w.dataset.transform=t,w.setAttribute("transform",""));const e=zt?await Vt():jt();if(_.checked){const n=await On(e);t&&w.setAttribute("transform",t),wt(n,$e)}else{const n=await Cn(e);t&&w.setAttribute("transform",t),wt(n,Me)}},fe=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{}catch{return!1}return"showOpenFilePicker"in self})(),jn=fe?Promise.resolve().then(function(){return Un}):Promise.resolve().then(function(){return Xn});async function zn(...t){return(await jn).default(...t)}fe?Promise.resolve().then(function(){return Wn}):Promise.resolve().then(function(){return Jn});const Dn=fe?Promise.resolve().then(function(){return Gn}):Promise.resolve().then(function(){return Qn});async function Hn(...t){return(await Dn).default(...t)}const Bn=async t=>{const e=await t.getFile();return e.handle=t,e};var Nn=async(t=[{}])=>{Array.isArray(t)||(t=[t]);const e=[];t.forEach((i,a)=>{e[a]={description:i.description||"Files",accept:{}},i.mimeTypes?i.mimeTypes.map(s=>{e[a].accept[s]=i.extensions||[]}):e[a].accept["*/*"]=i.extensions||[]});const n=await window.showOpenFilePicker({id:t[0].id,startIn:t[0].startIn,types:e,multiple:t[0].multiple||!1,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(Bn));return t[0].multiple?r:r[0]},Un={__proto__:null,default:Nn};function Ae(t){function e(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var r=n.done;return Promise.resolve(n.value).then(function(i){return{value:i,done:r}})}return Ae=function(n){this.s=n,this.n=n.next},Ae.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(n){var r=this.s.return;return r===void 0?Promise.resolve({value:n,done:!0}):e(r.apply(this.s,arguments))},throw:function(n){var r=this.s.return;return r===void 0?Promise.reject(n):e(r.apply(this.s,arguments))}},new Ae(t)}const Ht=async(t,e,n=t.name,r)=>{const i=[],a=[];var s,o=!1,c=!1;try{for(var l,d=function(u){var h,g,E,V=2;for(typeof Symbol<"u"&&(g=Symbol.asyncIterator,E=Symbol.iterator);V--;){if(g&&(h=u[g])!=null)return h.call(u);if(E&&(h=u[E])!=null)return new Ae(h.call(u));g="@@asyncIterator",E="@@iterator"}throw new TypeError("Object is not async iterable")}(t.values());o=!(l=await d.next()).done;o=!1){const u=l.value,h=`${n}/${u.name}`;u.kind==="file"?a.push(u.getFile().then(g=>(g.directoryHandle=t,g.handle=u,Object.defineProperty(g,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>h})))):u.kind!=="directory"||!e||r&&r(u)||i.push(Ht(u,e,h,r))}}catch(u){c=!0,s=u}finally{try{o&&d.return!=null&&await d.return()}finally{if(c)throw s}}return[...(await Promise.all(i)).flat(),...await Promise.all(a)]};var qn=async(t={})=>{t.recursive=t.recursive||!1,t.mode=t.mode||"read";const e=await window.showDirectoryPicker({id:t.id,startIn:t.startIn,mode:t.mode});return(await(await e.values()).next()).done?[e]:Ht(e,t.recursive,void 0,t.skipDirectory)},Wn={__proto__:null,default:qn},Fn=async(t,e=[{}],n=null,r=!1,i=null)=>{Array.isArray(e)||(e=[e]),e[0].fileName=e[0].fileName||"Untitled";const a=[];let s=null;if(t instanceof Blob&&t.type?s=t.type:t.headers&&t.headers.get("content-type")&&(s=t.headers.get("content-type")),e.forEach((l,d)=>{a[d]={description:l.description||"Files",accept:{}},l.mimeTypes?(d===0&&s&&l.mimeTypes.push(s),l.mimeTypes.map(u=>{a[d].accept[u]=l.extensions||[]})):s?a[d].accept[s]=l.extensions||[]:a[d].accept["*/*"]=l.extensions||[]}),n)try{await n.getFile()}catch(l){if(n=null,r)throw l}const o=n||await window.showSaveFilePicker({suggestedName:e[0].fileName,id:e[0].id,startIn:e[0].startIn,types:a,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1});!n&&i&&i(o);const c=await o.createWritable();return"stream"in t?(await t.stream().pipeTo(c),o):"body"in t?(await t.body.pipeTo(c),o):(await c.write(await t),await c.close(),o)},Gn={__proto__:null,default:Fn},Yn=async(t=[{}])=>(Array.isArray(t)||(t=[t]),new Promise((e,n)=>{const r=document.createElement("input");r.type="file";const i=[...t.map(c=>c.mimeTypes||[]),...t.map(c=>c.extensions||[])].join();r.multiple=t[0].multiple||!1,r.accept=i||"",r.style.display="none",document.body.append(r);const a=c=>{typeof s=="function"&&s(),e(c)},s=t[0].legacySetup&&t[0].legacySetup(a,()=>s(n),r),o=()=>{window.removeEventListener("focus",o),r.remove()};r.addEventListener("click",()=>{window.addEventListener("focus",o)}),r.addEventListener("change",()=>{window.removeEventListener("focus",o),r.remove(),a(r.multiple?Array.from(r.files):r.files[0])}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),Xn={__proto__:null,default:Yn},Kn=async(t=[{}])=>(Array.isArray(t)||(t=[t]),t[0].recursive=t[0].recursive||!1,new Promise((e,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0;const i=s=>{typeof a=="function"&&a(),e(s)},a=t[0].legacySetup&&t[0].legacySetup(i,()=>a(n),r);r.addEventListener("change",()=>{let s=Array.from(r.files);t[0].recursive?t[0].recursive&&t[0].skipDirectory&&(s=s.filter(o=>o.webkitRelativePath.split("/").every(c=>!t[0].skipDirectory({name:c,kind:"directory"})))):s=s.filter(o=>o.webkitRelativePath.split("/").length===2),i(s)}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),Jn={__proto__:null,default:Kn},Zn=async(t,e={})=>{Array.isArray(e)&&(e=e[0]);const n=document.createElement("a");let r=t;"body"in t&&(r=await async function(s,o){const c=s.getReader(),l=new ReadableStream({start:h=>async function g(){return c.read().then(({done:E,value:V})=>{if(!E)return h.enqueue(V),g();h.close()})}()}),d=new Response(l),u=await d.blob();return c.releaseLock(),new Blob([u],{type:o})}(t.body,t.headers.get("content-type"))),n.download=e.fileName||"Untitled",n.href=URL.createObjectURL(await r);const i=()=>{typeof a=="function"&&a()},a=e.legacySetup&&e.legacySetup(i,()=>a(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),i()}),n.click(),null},Qn={__proto__:null,default:Zn};function er(){return new Worker("./assets/svgoworker-7ff1a964.js")}let F=null;const Re=async t=>(F&&F.terminate(),F=new er,new Promise(e=>{const n=new MessageChannel;n.port1.onmessage=({data:r})=>{n.port1.close(),F&&(F.terminate(),F=null),e(r.result)},F.postMessage({svg:t},[n.port2])}));function ze(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function tr(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=ze(n);return(i,a)=>r.then(s=>a(s.transaction(e,i).objectStore(e)))}let We;function st(){return We||(We=tr("keyval-store","keyval")),We}function re(t,e=st()){return e("readonly",n=>ze(n.get(t)))}function U(t,e,n=st()){return n("readwrite",r=>(r.put(e,t),ze(r.transaction)))}function nr(t,e=st()){return e("readwrite",n=>(n.delete(t),ze(n.transaction)))}const me="fileHandle",rr=t=>t?t.name.replace(/\.[^\.]+$/,""):"";Ee.addEventListener("click",async()=>{try{const t=await zn({mimeTypes:["image/*"],description:"Image files"}),e=URL.createObjectURL(t);y.addEventListener("load",()=>{URL.revokeObjectURL(e)},{once:!0}),y.src=e,fe&&await U(me,t.handle)}catch(t){console.error(t.name,t.message),O(t.message)}});document.addEventListener("dragover",t=>{t.preventDefault()});document.addEventListener("dragenter",t=>{t.preventDefault(),T.classList.add("dropenter")});document.addEventListener("dragleave",t=>{t.preventDefault(),t.target===T&&T.classList.remove("dropenter")});document.addEventListener("drop",async t=>{t.preventDefault(),t.stopPropagation(),T.classList.remove("dropenter");const e=t.dataTransfer.items[0];if(e.kind==="file"){let n;if(y.addEventListener("load",()=>{URL.revokeObjectURL(n)},{once:!0}),fe){const i=await e.getAsFileSystemHandle();if(i.kind!=="file")return;const a=await i.getFile();n=URL.createObjectURL(a),y.src=n,await U(me,i);return}const r=e.getAsFile();n=URL.createObjectURL(r),y.src=n}});ke.addEventListener("click",async()=>{const t=async()=>{O(m.t("optimizingSVG"),1/0);const e=await Re(w.innerHTML);return Or(),new Blob([e],{type:"image/svg+xml"})};try{let e=!1;try{e=await re(me)}catch{}const n=rr(e);await Hn(t(),{fileName:n,description:"SVG file",extensions:[".svg"],mimeTypes:["image/svg+xml"]}),O(m.t("savedSVG"))}catch(e){console.error(e.name,e.message),O(e.message)}});Pe.addEventListener("click",async()=>{try{const t=await navigator.clipboard.read();for(const e of t)for(const n of e.types)if(n.startsWith("image/")){const r=await e.getType(n);if(!r)return;const i=URL.createObjectURL(r);y.src=i;return}}catch(t){console.error(t.name,t.message),O(t.message)}});document.addEventListener("paste",t=>{try{if(!t.clipboardData.files.length)return;const e=t.clipboardData.files[0];if(e.type.startsWith("image/")){const n=URL.createObjectURL(e);y.src=n;return}}catch(e){console.error(e.name,e.message),O(e.message)}});Se.addEventListener("click",async()=>{let t=w.innerHTML;O(m.t("optimizingSVG"),1/0);try{"ClipboardItem"in window?$t?await navigator.clipboard.write([new ClipboardItem({"text/plain":new Promise(async e=>{e(new Blob([t],{type:"text/plain"}))})})]):(t=await Re(t),await navigator.clipboard.write([new ClipboardItem({"text/plain":new Promise(async e=>{e(new Blob([t],{type:"text/plain"}))}),"image/svg+xml":new Promise(async e=>{e(new Blob([t],{type:"image/svg+xml"}))})})])):await navigator.clipboard.writeText(await Re(t))}catch{t=await Re(t);const n=new Blob([t],{type:"text/plain"}),r=new Blob([t],{type:"image/svg+xml"});try{Number(navigator.userAgent.replace(/.*Chrome\/(\d+).*/,"$1"))<=88?await navigator.clipboard.write([new ClipboardItem({[n.type]:n})]):await navigator.clipboard.write([new ClipboardItem({[r.type]:r,[n.type]:n})])}catch{try{await navigator.clipboard.write([new ClipboardItem({[n.type]:n})])}catch(a){O(a.message);return}}}O(m.t("copiedSVG"))});class B{constructor(e){this.id=-1,this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,self.Touch&&e instanceof Touch?this.id=e.identifier:le(e)&&(this.id=e.pointerId)}getCoalesced(){if("getCoalescedEvents"in this.nativePointer){const e=this.nativePointer.getCoalescedEvents().map(n=>new B(n));if(e.length>0)return e}return[this]}}const le=t=>"pointerId"in t,Fe=t=>"changedTouches"in t,bt=()=>{};class ir{constructor(e,{start:n=()=>!0,move:r=bt,end:i=bt,rawUpdates:a=!1,avoidPointerEvents:s=!1}={}){this._element=e,this.startPointers=[],this.currentPointers=[],this._excludeFromButtonsCheck=new Set,this._pointerStart=o=>{if(le(o)&&o.buttons===0)this._excludeFromButtonsCheck.add(o.pointerId);else if(!(o.buttons&1))return;const c=new B(o);this.currentPointers.some(l=>l.id===c.id)||this._triggerPointerStart(c,o)&&(le(o)?((o.target&&"setPointerCapture"in o.target?o.target:this._element).setPointerCapture(o.pointerId),this._element.addEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.addEventListener("pointerup",this._pointerEnd),this._element.addEventListener("pointercancel",this._pointerEnd)):(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd)))},this._touchStart=o=>{for(const c of Array.from(o.changedTouches))this._triggerPointerStart(new B(c),o)},this._move=o=>{if(!Fe(o)&&(!le(o)||!this._excludeFromButtonsCheck.has(o.pointerId))&&o.buttons===0){this._pointerEnd(o);return}const c=this.currentPointers.slice(),l=Fe(o)?Array.from(o.changedTouches).map(u=>new B(u)):[new B(o)],d=[];for(const u of l){const h=this.currentPointers.findIndex(g=>g.id===u.id);h!==-1&&(d.push(u),this.currentPointers[h]=u)}d.length!==0&&this._moveCallback(c,d,o)},this._triggerPointerEnd=(o,c)=>{if(!Fe(c)&&c.buttons&1)return!1;const l=this.currentPointers.findIndex(u=>u.id===o.id);if(l===-1)return!1;this.currentPointers.splice(l,1),this.startPointers.splice(l,1),this._excludeFromButtonsCheck.delete(o.id);const d=!(c.type==="mouseup"||c.type==="touchend"||c.type==="pointerup");return this._endCallback(o,c,d),!0},this._pointerEnd=o=>{if(this._triggerPointerEnd(new B(o),o))if(le(o)){if(this.currentPointers.length)return;this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd)}else window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)},this._touchEnd=o=>{for(const c of Array.from(o.changedTouches))this._triggerPointerEnd(new B(c),o)},this._startCallback=n,this._moveCallback=r,this._endCallback=i,this._rawUpdates=a&&"onpointerrawupdate"in window,self.PointerEvent&&!s?this._element.addEventListener("pointerdown",this._pointerStart):(this._element.addEventListener("mousedown",this._pointerStart),this._element.addEventListener("touchstart",this._touchStart),this._element.addEventListener("touchmove",this._move),this._element.addEventListener("touchend",this._touchEnd),this._element.addEventListener("touchcancel",this._touchEnd))}stop(){this._element.removeEventListener("pointerdown",this._pointerStart),this._element.removeEventListener("mousedown",this._pointerStart),this._element.removeEventListener("touchstart",this._touchStart),this._element.removeEventListener("touchmove",this._move),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(e,n){return this._startCallback(e,n)?(this.currentPointers.push(e),this.startPointers.push(e),!0):!1}}function or(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var ar=`pinch-zoom {
  display: block;
  overflow: hidden;
  touch-action: none;
  --scale: 1;
  --x: 0;
  --y: 0;
}

pinch-zoom > * {
  transform: translate(var(--x), var(--y)) scale(var(--scale));
  transform-origin: 0 0;
  will-change: transform;
}
`;or(ar);const be="min-scale";function _t(t,e){return e?Math.sqrt((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2):0}function Lt(t,e){return e?{clientX:(t.clientX+e.clientX)/2,clientY:(t.clientY+e.clientY)/2}:t}function Et(t,e){return typeof t=="number"?t:t.trimRight().endsWith("%")?e*parseFloat(t)/100:parseFloat(t)}let kt;function Bt(){return kt||(kt=document.createElementNS("http://www.w3.org/2000/svg","svg"))}function Ge(){return Bt().createSVGMatrix()}function St(){return Bt().createSVGPoint()}const Ye=.01;class sr extends HTMLElement{constructor(){super(),this._transform=Ge(),new MutationObserver(()=>this._stageElChange()).observe(this,{childList:!0});const e=new ir(this,{start:(n,r)=>e.currentPointers.length===2||!this._positioningEl?!1:(r.preventDefault(),!0),move:n=>{this._onPointerMove(n,e.currentPointers)}});this.addEventListener("wheel",n=>this._onWheel(n))}static get observedAttributes(){return[be]}attributeChangedCallback(e,n,r){e===be&&this.scale<this.minScale&&this.setTransform({scale:this.minScale})}get minScale(){const e=this.getAttribute(be);if(!e)return Ye;const n=parseFloat(e);return Number.isFinite(n)?Math.max(Ye,n):Ye}set minScale(e){this.setAttribute(be,String(e))}connectedCallback(){this._stageElChange()}get x(){return this._transform.e}get y(){return this._transform.f}get scale(){return this._transform.a}scaleTo(e,n={}){let{originX:r=0,originY:i=0}=n;const{relativeTo:a="content",allowChangeEvent:s=!1}=n,o=a==="content"?this._positioningEl:this;if(!o||!this._positioningEl){this.setTransform({scale:e,allowChangeEvent:s});return}const c=o.getBoundingClientRect();if(r=Et(r,c.width),i=Et(i,c.height),a==="content")r+=this.x,i+=this.y;else{const l=this._positioningEl.getBoundingClientRect();r-=l.left,i-=l.top}this._applyChange({allowChangeEvent:s,originX:r,originY:i,scaleDiff:e/this.scale})}setTransform(e={}){const{scale:n=this.scale,allowChangeEvent:r=!1}=e;let{x:i=this.x,y:a=this.y}=e;if(!this._positioningEl){this._updateTransform(n,i,a,r);return}const s=this.getBoundingClientRect(),o=this._positioningEl.getBoundingClientRect();if(!s.width||!s.height){this._updateTransform(n,i,a,r);return}let c=St();c.x=o.left-s.left,c.y=o.top-s.top;let l=St();l.x=o.width+c.x,l.y=o.height+c.y;const d=Ge().translate(i,a).scale(n).multiply(this._transform.inverse());c=c.matrixTransform(d),l=l.matrixTransform(d),c.x>s.width?i+=s.width-c.x:l.x<0&&(i+=-l.x),c.y>s.height?a+=s.height-c.y:l.y<0&&(a+=-l.y),this._updateTransform(n,i,a,r)}_updateTransform(e,n,r,i){if(!(e<this.minScale)&&!(e===this.scale&&n===this.x&&r===this.y)&&(this._transform.e=n,this._transform.f=r,this._transform.d=this._transform.a=e,this.style.setProperty("--x",this.x+"px"),this.style.setProperty("--y",this.y+"px"),this.style.setProperty("--scale",this.scale+""),i)){const a=new Event("change",{bubbles:!0});this.dispatchEvent(a)}}_stageElChange(){this._positioningEl=void 0,this.children.length!==0&&(this._positioningEl=this.children[0],this.children.length>1&&console.warn("<pinch-zoom> must not have more than one child."),this.setTransform({allowChangeEvent:!0}))}_onWheel(e){if(!this._positioningEl)return;e.preventDefault();const n=this._positioningEl.getBoundingClientRect();let{deltaY:r}=e;const{ctrlKey:i,deltaMode:a}=e;a===1&&(r*=15);const o=1-r/(i?100:300);this._applyChange({scaleDiff:o,originX:e.clientX-n.left,originY:e.clientY-n.top,allowChangeEvent:!0})}_onPointerMove(e,n){if(!this._positioningEl)return;const r=this._positioningEl.getBoundingClientRect(),i=Lt(e[0],e[1]),a=Lt(n[0],n[1]),s=i.clientX-r.left,o=i.clientY-r.top,c=_t(e[0],e[1]),l=_t(n[0],n[1]),d=c?l/c:1;this._applyChange({originX:s,originY:o,scaleDiff:d,panX:a.clientX-i.clientX,panY:a.clientY-i.clientY,allowChangeEvent:!0})}_applyChange(e={}){const{panX:n=0,panY:r=0,originX:i=0,originY:a=0,scaleDiff:s=1,allowChangeEvent:o=!1}=e,c=Ge().translate(n,r).translate(i,a).translate(this.x,this.y).scale(s).translate(-i,-a).scale(this.scale);this.setTransform({allowChangeEvent:o,scale:c.a,x:c.e,y:c.f})}}customElements.define("pinch-zoom",sr);const cr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"/></svg>',lr='<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M17.66,17.66l-1.06,1.06l-0.71-0.71l1.06-1.06l-1.94-1.94l-1.06,1.06l-0.71-0.71l1.06-1.06l-1.94-1.94l-1.06,1.06 l-0.71-0.71l1.06-1.06L9.7,9.7l-1.06,1.06l-0.71-0.71l1.06-1.06L7.05,7.05L5.99,8.11L5.28,7.4l1.06-1.06L4,4v14c0,1.1,0.9,2,2,2 h14L17.66,17.66z M7,17v-5.76L12.76,17H7z"/></g></g></svg>',dr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M15.96 10.29l-2.75 3.54-1.96-2.36L8.5 15h11l-3.54-4.71zM3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"/></svg>',ur='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/></svg>',hr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 12H4V8h16v10z"/></svg>',pr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/></svg>',mr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>',gr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"/></svg>',fr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z"/></svg>',vr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg>',yr='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/></svg>',wr='<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><rect fill="none" height="24" width="24"/></g><g><g><path d="M20,17H4V5h8V3H4C2.89,3,2,3.89,2,5v12c0,1.1,0.89,2,2,2h4v2h8v-2h4c1.1,0,2-0.9,2-2v-3h-2V17z"/><polygon points="17,14 22,9 20.59,7.59 18,10.17 18,3 16,3 16,10.17 13.41,7.59 12,9"/></g></g></svg>',ct="monochromeSettings",lt="colorSettings",$e="color",Me="monochrome",D="%",Nt="deg",de="steps",xt="pixels",ot="",br="segments",j={brightness:"brightness",contrast:"contrast",grayscale:"grayscale",hueRotate:"hue-rotate",invert:"invert",opacity:"opacity",saturate:"saturate",sepia:"sepia"},S={red:"red",green:"green",blue:"blue",alpha:"alpha"},ge={scale:"scale",rotation:"rotation"},L={minPathLength:"minPathSegments",strokeWidth:"strokeWidth",turdsize:"turdsize",alphamax:"alphamax",turnpolicy:"turnpolicy",opticurve:"opticurve",opttolerance:"opttolerance"},Ut={[j.brightness]:{unit:D,initial:100,min:0,max:200},[j.contrast]:{unit:D,initial:100,min:0,max:200},[j.grayscale]:{unit:D,initial:0,min:0,max:100},[j.hueRotate]:{unit:Nt,initial:0,min:0,max:360},[j.invert]:{unit:D,initial:0,min:0,max:100},[j.opacity]:{unit:D,initial:100,min:0,max:100},[j.saturate]:{unit:D,initial:100,min:0,max:200},[j.sepia]:{unit:D,initial:0,min:0,max:100}},_r={[S.red]:{unit:de,initial:5,min:1,max:20},[S.green]:{unit:de,initial:5,min:1,max:20},[S.blue]:{unit:de,initial:5,min:1,max:20},[S.alpha]:{unit:de,initial:1,min:1,max:10}},Lr={[ge.scale]:{unit:D,initial:100,min:1,max:200},[ge.rotation]:{unit:Nt,initial:0,min:0,max:360}},Er={[L.turdsize]:{unit:xt,initial:2,min:0,max:50},[L.strokeWidth]:{unit:xt,initial:0,min:0,max:100},[L.minPathLength]:{unit:br,initial:0,min:0,max:30},[L.alphamax]:{unit:ot,initial:1,min:0,max:1.3334},[L.turnpolicy]:{unit:de,initial:4,min:0,max:6},[L.opttolerance]:{unit:ot,initial:.2,min:0,max:1}},kr=[{name:"svgOptions",icon:ur},{name:"colorChannels",icon:cr},{name:"imageSizeAndRotation",icon:lr},{name:"imagePreprocessing",icon:dr}],dt=[Object.entries(Er),Object.entries(_r),Object.entries(Lr),Object.entries(Ut)],v={},Ve={},I={},ie=(t,e)=>{const n=m.t(t);return` (${t?`${e}${n.length===1?n:` ${n}`}`:e})`},H=t=>{const e=document.createElement("span");return e.classList.add("icon"),e.innerHTML=t,e},Sr=(t,e)=>{const n=document.createElement("details");I[t]=n;const r=document.createElement("summary"),i=H(e);r.append(i);const a=document.createElement("span");return a.textContent=m.t(t),a.dataset.i18nKey=t,r.append(a),n.append(r),n},xr=["alphamax","turnpolicy","optimize-curves","opttolerance","minPathSegments"],Pr=async(t,e,n)=>{const{unit:r,min:i,max:a,initial:s}=e,o=document.createElement("div");o.classList.add("preprocess-input"),xr.includes(t)&&o.classList.add("advanced");const c=document.createElement("label"),l=document.createElement("span");l.textContent=m.t(t),l.dataset.i18nKey=t,c.append(l),c.htmlFor=t;const d=await De(),u=document.createElement("span");Ve[t]=u,u.textContent=ie(r,d[t]||s),u.dataset.dynamicI18nKey=r,u.dataset.dynamicValue=d[t]||s;const h=document.createElement("input");v[t]=h,h.id=t,h.type="range",h.class=t,r&&(h.dataset.unit=r),r===ot&&(h.step=.01),h.min=i,h.max=a,h.value=d[t]||s,h.addEventListener("input",()=>{u.textContent=ie(r,h.value),u.dataset.dynamicValue=h.value}),Object.keys(S).includes(t)?h.addEventListener("change",Oe(async()=>{await Y(h),await R()},250)):Object.keys(L).includes(t)?h.addEventListener("change",Oe(async()=>{await Y(h),await R()},250)):h.addEventListener("change",Oe(async()=>{await Y(h),await R()},250));const g=document.createElement("button");g.type="button",g.textContent=m.t("reset"),g.dataset.i18nKey="reset",g.addEventListener("click",async()=>{h.value=s,u.textContent=ie(r,s),u.dataset.dynamicValue=s,h.dispatchEvent(new Event("change"))}),c.append(u),o.append(c);const E=document.createElement("div");o.append(E),E.append(h),E.append(g),n.append(o)},qt=()=>{const t=!A.checked;Object.keys(S).forEach(e=>{v[e].disabled=t})};A.addEventListener("change",async()=>{qt(),await Y(A),await R()});const ut=async()=>{const t=await De();A.checked=t[A.id]??A.defaultChecked,qt(),M.checked=t[M.id]??M.defaultChecked,C.checked=t[C.id]??C.defaultChecked,Wt(),G.checked=t[G.id]??G.defaultChecked,Gt(),dt.forEach(e=>{for(const[n,r]of e){const i=t[v[n].id]||r.initial;v[n].value=i,Ve[n].textContent=ie(r.unit,i)}})};_.addEventListener("change",async()=>{await U(_.id,_.checked),await U(P.id,P.checked),await ut(),await R()});P.addEventListener("change",async()=>{await U(_.id,_.checked),await U(P.id,P.checked),await ut(),await R()});M.addEventListener("change",async()=>{await Y(M),await R()});const Wt=()=>{v.opttolerance.disabled=!C.checked};C.addEventListener("change",async()=>{Wt(),await Y(C),await R()});he.addEventListener("input",()=>{z.classList.toggle("debug",he.checked)});const Cr=async()=>{await m.getTranslations(),Ft();const t=getComputedStyle(T).getPropertyValue("--mobile-breakpoint"),e=window.matchMedia(`(max-width: ${t})`),n=()=>{if(e.matches){rt.open=!1;return}rt.open=!0};n(),e.addEventListener("change",n);try{_.checked=await re(_.id)??_.defaultChecked}catch{_.checked=_.defaultChecked}try{P.checked=await re(P.id)??P.defaultChecked}catch{P.checked=P.defaultChecked}_.checked&&w.classList.add($e),P.checked&&w.classList.add(Me);const r=[];dt.forEach(async(s,o)=>{const{name:c,icon:l}=kr[o],d=Sr(c,l);mt.append(d),o<2&&(d.open=!0),c==="colorChannels"?I.colorChannels.append(A.parentNode):c==="svgOptions"?(I.svgOptions.append(_.parentNode),I.svgOptions.append(P.parentNode)):c==="imageSizeAndRotation"&&I.imageSizeAndRotation.append(M.parentNode);for(const[u,h]of s)r.push(Pr(u,h,d));Promise.all(r).then(async()=>{for(const[u]of s){if(u==="opttolerance"){const h=I.svgOptions.querySelector('[for="opttolerance"]').parentNode;I.svgOptions.insertBefore(C.parentNode,h)}if(c==="svgOptions"){const h=I.svgOptions.querySelector(".preprocess-input.advanced");I.svgOptions.insertBefore(G.parentNode,h)}}await ut()})}),mt.append(at.parentNode),y.addEventListener("load",async()=>{y.width=y.naturalWidth,y.height=y.naturalHeight;const s=await De();if(y.src!==new URL("/favicon.png",location.href).toString()||Object.keys(s).length>1)setTimeout(async()=>{It(),await R()},100);else{const o=await fetch(`/potraced-${_.checked?"color":"monochrome"}.svg`).then(c=>c.text());w.innerHTML=o}}),y.complete&&y.dispatchEvent(new Event("load")),Te.hidden=!1,new URL(location).searchParams.has("debug")&&(he.checked=!0,he.labels[0].hidden=!1,he.dispatchEvent(new Event("input")));try{const s=await re(me);if(s&&await Tr(s)){const o=await s.getFile(),c=URL.createObjectURL(o);y.src=c}}catch(s){console.error(s.name,s.message);try{await nr(me)}catch(o){console.error(o.name,o.message)}}},Tr=async t=>{const e={mode:"read"};return await t.queryPermission(e)==="granted"||await t.requestPermission(e)==="granted"},Ft=()=>{ln.textContent=m.t("license"),dn.textContent=m.t("about"),at.textContent=m.t("resetAll"),nn.textContent=m.t("posterizeInputImage"),rn.textContent=m.t("colorSVG"),on.textContent=m.t("monochromeSVG"),an.textContent=m.t("considerDPR"),sn.textContent=m.t("opticurve"),cn.textContent=m.t("showAdvancedControls"),Ee.innerHTML="",Ee.append(H(hr));const t=document.createElement("span");t.textContent=m.t("openImage"),Ee.append(t),ke.innerHTML="",ke.append(H(pr));const e=document.createElement("span");e.textContent=m.t("saveSVG"),ke.append(e),xe.innerHTML="",xe.append(H($t?fr:vr));const n=document.createElement("span");n.textContent=m.t("shareSVG"),xe.append(n),Se.innerHTML="",Se.append(H(mr));const r=document.createElement("span");r.textContent=m.t("copySVG"),Se.append(r),Pe.innerHTML="",Pe.append(H(gr));const i=document.createElement("span");i.textContent=m.t("pasteImage"),Pe.append(i),Ce.innerHTML="",Ce.append(H(wr));const a=document.createElement("span");a.textContent=m.t("install"),Ce.append(a),T.dataset.dropText=m.t("dropFileHere"),Ne.innerHTML="",Ne.append(H(yr)),Ne.append(document.createTextNode(m.t("tweak"))),At.ariaLabel=m.t("closeOptions"),document.querySelectorAll("[data-i18n-key]").forEach(s=>{s.textContent=m.t(s.dataset.i18nKey)}),document.querySelectorAll("[data-dynamic-i18n-key]").forEach(s=>{s.textContent=ie(s.dataset.dynamicI18nKey,s.dataset.dynamicValue)}),Ie.innerHTML="",m.supportedLocales.sort().forEach(s=>{const[o,c]=s.split("-"),l=document.createElement("option");l.value=s,l.textContent=m.t(`${o}${c}`),o===m.currentLanguageAndLocale.language&&c===m.currentLanguageAndLocale.locale&&(l.selected=!0),Ie.append(l)})};Ie.addEventListener("change",async()=>{const[t,e]=Ie.value.split("-");try{await m.setLanguageAndLocale(t,e),Ft()}catch(n){console.error(n.name,n.message)}});at.addEventListener("click",async()=>{const t=(e,n,r)=>{v[e].value=r,Ve[e].textContent=ie(n,r),Ve[e].dataset.dynamicValue=r};dt.forEach(e=>{for(const[n,r]of e)t(n,r.unit,r.initial)}),C.checked=C.defaultChecked,opttolerance.disabled=!C.defaultChecked,A.checked=A.defaultChecked,M.checked=M.defaultChecked,await Ar(),It(),await R()});let Xe=null;const O=(t,e=5e3)=>{if(Q.innerHTML=t,Q.hidden=!1,Xe&&clearTimeout(Xe),e!==1/0){Xe=setTimeout(()=>{Q.hidden=!0,Q.textContent=""},e);return}},Or=()=>{Q.hidden=!0,Q.textContent=""},Gt=async()=>{await Y(G),document.querySelectorAll(".advanced").forEach(t=>{G.checked?t.style.display="block":t.style.display="none"})};G.addEventListener("change",Gt);T.style.setProperty("--100vh",`${window.innerHeight}px`);window.addEventListener("resize",Oe(()=>{T.style.setProperty("--100vh",`${window.innerHeight}px`)},250));At.addEventListener("click",()=>{rt.open=!1});const Ar=async()=>{await U(_.checked?lt:ct,{})},De=async()=>{try{const t=_.checked?await re(lt):await re(ct);return t||{}}catch{return{}}},Y=async t=>{try{const e=await De();e[t.id]=t.type==="range"?t.value:t.checked,await U(_.checked?lt:ct,e)}catch{}};// @license © 2019 Google LLC. Licensed under the Apache License, Version 2.0.
const ue=document;let Z={};try{Z=localStorage}catch{}const je="prefers-color-scheme",_e="media",b="light",k="dark",Pt=`(${je}:${k})`,Rr=`(${je}:${b})`,Ct="link[rel=stylesheet]",Ke="remember",Je="legend",Le="toggle",Tt="switch",Ze="appearance",Qe="permanent",et="mode",ce="colorschemechange",tt="permanentcolorscheme",Ot="all",nt="not all",f="dark-mode-toggle",ne="https://googlechromelabs.github.io/dark-mode-toggle/demo/",J=(t,e,n=e)=>{Object.defineProperty(t,n,{enumerable:!0,get(){const r=this.getAttribute(e);return r===null?"":r},set(r){this.setAttribute(e,r)}})},Ir=(t,e,n=e)=>{Object.defineProperty(t,n,{enumerable:!0,get(){return this.hasAttribute(e)},set(r){r?this.setAttribute(e,""):this.removeAttribute(e)}})},Yt=ue.createElement("template");Yt.innerHTML=`<style>*,::after,::before{box-sizing:border-box}:host{contain:content;display:block}:host([hidden]){display:none}form{background-color:var(--${f}-background-color,transparent);color:var(--${f}-color,inherit);padding:0}fieldset{border:none;margin:0;padding-block:.25rem;padding-inline:.25rem}legend{font:var(--${f}-legend-font,inherit);padding:0}input,label{cursor:pointer}label{white-space:nowrap}input{opacity:0;position:absolute;pointer-events:none}input:focus-visible+label{outline:#e59700 auto 2px;outline:-webkit-focus-ring-color auto 5px}label:not(:empty)::before{margin-inline-end:.5rem;}label::before{content:"";display:inline-block;background-size:var(--${f}-icon-size,1rem);background-repeat:no-repeat;height:var(--${f}-icon-size,1rem);width:var(--${f}-icon-size,1rem);vertical-align:middle;}[part=lightLabel]::before{background-image:var(--${f}-light-icon, url("${ne}sun.png"))}[part=darkLabel]::before{filter:var(--${f}-icon-filter, none);background-image:var(--${f}-dark-icon, url("${ne}moon.png"))}[part=toggleLabel]::before{background-image:var(--${f}-checkbox-icon,none)}[part=permanentLabel]::before{background-image:var(--${f}-remember-icon-unchecked, url("${ne}unchecked.svg"))}[part=darkLabel],[part=lightLabel],[part=toggleLabel]{font:var(--${f}-label-font,inherit)}[part=darkLabel]:empty,[part=lightLabel]:empty,[part=toggleLabel]:empty{font-size:0;padding:0}[part=permanentLabel]{font:var(--${f}-remember-font,inherit)}input:checked+[part=permanentLabel]::before{background-image:var(--${f}-remember-icon-checked, url("${ne}checked.svg"))}input:checked+[part=darkLabel],input:checked+[part=lightLabel]{background-color:var(--${f}-active-mode-background-color,transparent)}input:checked+[part=darkLabel]::before,input:checked+[part=lightLabel]::before{background-color:var(--${f}-active-mode-background-color,transparent)}input:checked+[part=toggleLabel]::before{filter:var(--${f}-icon-filter, none)}input:checked+[part=toggleLabel]+aside [part=permanentLabel]::before{filter:var(--${f}-remember-filter, invert(100%))}aside{visibility:hidden;margin-block-start:.15rem}[part=darkLabel]:focus-visible~aside,[part=lightLabel]:focus-visible~aside,[part=toggleLabel]:focus-visible~aside{visibility:visible;transition:visibility 0s}aside [part=permanentLabel]:empty{display:none}@media (hover:hover){aside{transition:visibility 3s}aside:hover{visibility:visible}[part=darkLabel]:hover~aside,[part=lightLabel]:hover~aside,[part=toggleLabel]:hover~aside{visibility:visible;transition:visibility 0s}}</style><form part=form><fieldset part=fieldset><legend part=legend></legend><input part=lightRadio id=l name=mode type=radio><label part=lightLabel for=l></label><input part=darkRadio id=d name=mode type=radio><label part=darkLabel for=d></label><input part=toggleCheckbox id=t type=checkbox><label part=toggleLabel for=t></label><aside part=aside><input part=permanentCheckbox id=p type=checkbox><label part=permanentLabel for=p></label></aside></fieldset></form>`;class $r extends HTMLElement{static get observedAttributes(){return[et,Ze,Qe,Je,b,k,Ke]}constructor(){super(),J(this,et),J(this,Ze),J(this,Je),J(this,b),J(this,k),J(this,Ke),Ir(this,Qe),this.t=null,this.i=null,ue.addEventListener(ce,e=>{this.mode=e.detail.colorScheme,this.o(),this.l()}),ue.addEventListener(tt,e=>{this.permanent=e.detail.permanent,this.h.checked=this.permanent}),this.p()}p(){const e=this.attachShadow({mode:"open"});e.append(Yt.content.cloneNode(!0)),this.t=ue.querySelectorAll(`${Ct}[${_e}*=${je}][${_e}*="${k}"]`),this.i=ue.querySelectorAll(`${Ct}[${_e}*=${je}][${_e}*="${b}"]`),this.g=e.querySelector("[part=lightRadio]"),this.m=e.querySelector("[part=lightLabel]"),this.u=e.querySelector("[part=darkRadio]"),this.k=e.querySelector("[part=darkLabel]"),this.v=e.querySelector("[part=toggleCheckbox]"),this.$=e.querySelector("[part=toggleLabel]"),this.L=e.querySelector("legend"),this.C=e.querySelector("aside"),this.h=e.querySelector("[part=permanentCheckbox]"),this.M=e.querySelector("[part=permanentLabel]")}connectedCallback(){const e=matchMedia(Pt).media!==nt;e&&matchMedia(Pt).addListener(({matches:r})=>{this.permanent||(this.mode=r?k:b,this.R(ce,{colorScheme:this.mode}))});let n=!1;try{n=Z.getItem(f)}catch{}if(n&&[k,b].includes(n)?(this.mode=n,this.h.checked=!0,this.permanent=!0):e&&(this.mode=matchMedia(Rr).matches?b:k),this.mode||(this.mode=b),this.permanent&&!n)try{Z.setItem(f,this.mode)}catch{}this.appearance||(this.appearance=Le),this._(),this.o(),this.l(),[this.g,this.u].forEach(r=>{r.addEventListener("change",()=>{this.mode=this.g.checked?b:k,this.l(),this.R(ce,{colorScheme:this.mode})})}),this.v.addEventListener("change",()=>{this.mode=this.v.checked?k:b,this.o(),this.R(ce,{colorScheme:this.mode})}),this.h.addEventListener("change",()=>{this.permanent=this.h.checked,this.R(tt,{permanent:this.permanent})}),this.A(),this.R(ce,{colorScheme:this.mode}),this.R(tt,{permanent:this.permanent})}attributeChangedCallback(e,n,r){if(e===et){if(![b,k].includes(r))throw new RangeError(`Allowed values: "${b}" and "${k}".`);if(matchMedia("(hover:none)").matches&&this.remember&&this.S(),this.permanent)try{Z.setItem(f,this.mode)}catch{}this.o(),this.l(),this.A()}else if(e===Ze){if(![Le,Tt].includes(r))throw new RangeError(`Allowed values: "${Le}" and "${Tt}".`);this._()}else if(e===Qe){if(this.permanent){if(this.mode)try{Z.setItem(f,this.mode)}catch{}}else try{Z.removeItem(f)}catch{}this.h.checked=this.permanent}else e===Je?this.L.textContent=r:e===Ke?this.M.textContent=r:e===b?(this.m.textContent=r,this.mode===b&&(this.$.textContent=r)):e===k&&(this.k.textContent=r,this.mode===k&&(this.$.textContent=r))}R(e,n){this.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0,detail:n}))}_(){const e=this.appearance===Le;this.g.hidden=e,this.m.hidden=e,this.u.hidden=e,this.k.hidden=e,this.v.hidden=!e,this.$.hidden=!e}o(){this.mode===b?this.g.checked=!0:this.u.checked=!0}l(){this.mode===b?(this.$.style.setProperty(`--${f}-checkbox-icon`,`var(--${f}-light-icon,url("${ne}moon.png"))`),this.$.textContent=this.light,this.light||(this.$.ariaLabel=k),this.v.checked=!1):(this.$.style.setProperty(`--${f}-checkbox-icon`,`var(--${f}-dark-icon,url("${ne}sun.png"))`),this.$.textContent=this.dark,this.dark||(this.$.ariaLabel=b),this.v.checked=!0)}A(){this.mode===b?(this.i.forEach(e=>{e.media=Ot,e.disabled=!1}),this.t.forEach(e=>{e.media=nt,e.disabled=!0})):(this.t.forEach(e=>{e.media=Ot,e.disabled=!1}),this.i.forEach(e=>{e.media=nt,e.disabled=!0}))}S(){this.C.style.visibility="visible",setTimeout(()=>{this.C.style.visibility="hidden"},3e3)}}customElements.define(f,$r);"launchQueue"in window&&p(()=>import("./filehandling-902cddbd.js"),[]);"windowControlsOverlay"in navigator&&p(()=>import("./windowcontrols-4bc9e1fd.js"),[]);"onbeforeinstallprompt"in window&&"onappinstalled"in window?p(()=>import("./install-9fbefe38.js"),[]):Ce.style.display="none";"share"in navigator&&"canShare"in navigator?p(()=>import("./share-c7b73e63.js"),[]):xe.style.display="none";"serviceWorker"in navigator&&window.addEventListener("load",async()=>{try{await navigator.serviceWorker.register("./share-target/sharetargetsw.js")}catch(t){console.error(t.name,t.message),O(t.message)}if(location.search.includes("share-target")){const t=await caches.keys(),e=await caches.open(t.filter(r=>r.startsWith("media"))[0]),n=await e.match("shared-image");if(n){const r=await n.blob();await e.delete("shared-image");const i=URL.createObjectURL(r);y.addEventListener("load",()=>{URL.revokeObjectURL(i)},{once:!0}),y.src=i}}});const Mr=()=>{let t=!1;const e={get type(){t=!0}};try{new Worker("blob://",e)}finally{return t}},Xt=()=>{const t=Rt.mode;T.style.setProperty("--color-scheme",t),un.content=t==="dark"?"#131313":"#fff"};Rt.addEventListener("colorschemechange",Xt);Xt();(async()=>(Cr(),Mr()||await p(()=>import("./module-workers-polyfill.min-53ae82b3.js"),[])))();export{me as F,jr as a,Ce as b,xe as c,Oe as d,w as e,O as f,m as g,Or as h,y as i,re as j,rr as k,Vr as m,Re as o,U as s};
